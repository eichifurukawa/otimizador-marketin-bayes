<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Otimizador de Campanhas de Marketing</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <h1>üìà Otimizador de Campanhas com Teorema de Bayes üìà</h1>

        <div class="upload-section">
            <h2>üé≤ Carregar Dados üé≤</h2>
            <div class="mb-20">
                <input type="file" id="csvFile" accept=".csv" class="mb-20">
                <button onclick="processFile()">Processar Dados</button>
            </div>
            <p>Ou use nossos <a href="#" onclick="loadSampleData()">dados de exemplo</a></p>
            <p class="text-center" style="margin-top: 10px;">
                <small>Formatos suportados: CSV</small>
            </p>
        </div>

        <div class="data-instructions">
            <h2>Como preparar seus dados</h2>
            <p>Seu arquivo CSV deve conter as seguintes colunas:</p>
            <ul>
                <li><strong>channel</strong>: Nome do canal de marketing (ex: google_ads, instagram)</li>
                <li><strong>impressions</strong>: N√∫mero de impress√µes/exibi√ß√µes</li>
                <li><strong>clicks</strong>: N√∫mero de cliques</li>
                <li><strong>conversions</strong>: N√∫mero de convers√µes (compras, leads, etc.)</li>
                <li><strong>cost</strong>: Custo total da campanha (em d√≥lares)</li>
            </ul>
            <p>Exemplo:</p>
            <pre>
channel,impressions,clicks,conversions,cost
google_ads,10000,500,50,2000
instagram,8000,400,60,1200
email,15000,750,30,900</pre>
        </div>

        <div class="uploaded-data" id="uploadedDataSection" style="display: none;">
            <h2>Dados Inseridos</h2>
            <div class="data-table-container">
                <table id="uploadedDataTable" class="data-table">
                    <thead>
                        <tr>
                            <th class="tooltip">Canal<span class="tooltiptext">Nome do canal de marketing (ex: Google Ads, Instagram)</span></th>
                            <th class="tooltip">Impress√µes<span class="tooltiptext">N√∫mero de vezes que o an√∫ncio foi exibido</span></th>
                            <th class="tooltip">Cliques<span class="tooltiptext">N√∫mero de cliques no an√∫ncio</span></th>
                            <th class="tooltip">Convers√µes<span class="tooltiptext">N√∫mero de convers√µes (compras, leads, etc.)</span></th>
                            <th class="tooltip">Custo ($)<span class="tooltiptext">Valor total investido no canal</span></th>
                            <th class="tooltip">CTR<span class="tooltiptext">Click-Through Rate: (Cliques/Impress√µes) √ó 100</span></th>
                            <th class="tooltip">CPA<span class="tooltiptext">Custo por Aquisi√ß√£o: Custo Total / Convers√µes</span></th>
                        </tr>
                    </thead>
                    <tbody id="uploadedDataBody"></tbody>
                </table>
            </div>
        </div>

        <div class="results-section" id="resultsSection" style="display: none;">
            <h2>Resultados</h2>
            <div class="recommendation" id="recommendation"></div>

            <table id="resultsTable" class="data-table">
                <thead>
                    <tr>
                        <th class="tooltip">Canal<span class="tooltiptext">Nome do canal de marketing</span></th>
                        <th class="tooltip">Prob. Convers√£o<span class="tooltiptext">Probabilidade de convers√£o calculada com Teorema de Bayes</span></th>
                        <th class="tooltip">ROI ($ por $1)<span class="tooltiptext">Retorno sobre Investimento por d√≥lar gasto</span></th>
                        <th class="tooltip">Score<span class="tooltiptext">Pontua√ß√£o combinada (Probabilidade √ó ROI) para recomenda√ß√£o</span></th>
                        <th class="tooltip">CTR<span class="tooltiptext">Click-Through Rate (%)</span></th>
                        <th class="tooltip">CPA ($)<span class="tooltiptext">Custo por Aquisi√ß√£o</span></th>
                    </tr>
                </thead>
                <tbody id="resultsBody"></tbody>
            </table>

            <div class="bayes-explanation">
                <h3>Como funciona o c√°lculo?</h3>
                <p>Usamos o Teorema de Bayes para calcular a probabilidade de convers√£o em cada canal:</p>
                <p><strong>P(Convers√£o | Canal) = [P(Canal | Convers√£o) √ó P(Convers√£o)] / P(Canal)</strong></p>
                <p>Onde:</p>
                <ul>
                    <li><strong>P(Convers√£o | Canal)</strong>: Probabilidade de convers√£o no canal (resultado)</li>
                    <li><strong>P(Canal | Convers√£o)</strong>: % de convers√µes que vieram deste canal</li>
                    <li><strong>P(Convers√£o)</strong>: Taxa de convers√£o geral</li>
                    <li><strong>P(Canal)</strong>: % de cliques que vieram deste canal</li>
                </ul>
                <p>O score de recomenda√ß√£o combina a probabilidade de convers√£o com o ROI (Retorno sobre Investimento).</p>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>